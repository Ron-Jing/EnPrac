<!doctype html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* 外层容器，显示Flexbox布局 */
        body {
            display: flex;
            justify-content: center;  /* 水平居中 */
            align-items: center;      /* 垂直居中 */
            height: 100vh;            /* 确保容器占满整个视口高度 */
            margin: 0;                /* 移除默认的页面边距 */
            flex-direction: column;   /* 列布局，使内容垂直排列 */
        }
        /* 页面标题样式，静态居中 */
        h1 {
            margin-bottom: 40px;       /* 与悬浮入口的间距为40像素 */
            text-align: center;        /* 文本水平居中 */
        }
        /* 定义自定义悬浮入口的位置，居中对齐 */
        #position_demo {
            display: flex;
            justify-content: center;   /* 水平居中 */
            position: relative;        /* 相对定位，确保居中 */
            width: 100%;               /* 确保宽度填充100% */
        }
        /* Media Query for Mobile Devices */
        @media (max-width: 768px) {
            body {
                padding: 20px;       /* 增加内边距，确保内容不会紧贴屏幕 */
            }
            h1 {
                font-size: 24px;     /* 根据屏幕大小调整标题字体大小 */
            }
            #position_demo {
                width: 100%;        /* 确保容器宽度为100% */
                padding: 10px;      /* 增加内边距 */
            }
        }
    </style>
</head>
<body>
<h1>English Practice Game</h1> <!-- 页面标题 -->
<!-- 悬浮入口的容器 -->
<div id="position_demo"></div>
<!-- 加载Coze Web SDK的脚本，指定版本 -->
<script src="https://sf-cdn.coze.com/obj/unpkg-va/flow-platform/chat-app-sdk/0.1.0-beta.4/libs/oversea/index.js"></script>
<script>
    const bot_id = '7386639167448514565'; // 定义机器人的ID
    const title = 'English Practice Game'; // 定义机器人的标题
    const icon = 'https://img0.baidu.com/it/u=2063361750,3512507530&fm=253&fmt=auto&app=138&f=PNG?w=500&h=500'; // 定义机器人的图标
    const lang = 'en'; // 定义语言为中文
    const layout = 'mobile'; // 定义布局为移动端
    
    let chatClient; // 定义一个变量来引用WebChat客户端实例

    function createWebChatClient() {
        if (chatClient) {
            // 如果已存在实例，销毁它
            chatClient.destroy();
        }

        // 创建一个新的WebChat客户端实例
        chatClient = new CozeWebSDK.WebChatClient({
            config: {
                bot_id, // 配置机器人的ID
            },
            componentProps: {
                title, // 设置机器人的标题
                icon,  // 设置机器人的图标
            },
            el: document.getElementById('position_demo') // 将实例挂载到指定的DOM元素
        });
    }

    // 初始化调用创建WebChat客户端实例
    createWebChatClient();

    // 示例：模拟用户重新加载实例的操作，可以通过其他事件触发调用该函数
    setTimeout(createWebChatClient, 60000); // 每60秒重新创建实例，作为示范
</script>
</body>
</html>
